
<script src="~/Scripts/jquery-3.5.1.min.js"></script>
<link href="~/Content/style.min.css" rel="stylesheet" />
<script src="~/Scripts/jstree.js"></script>
<script src="~/Scripts/Common.js"></script>
@{
    Layout = null;
}
<style>
    .jstree li > a > .jstree-icon {
        display: none !important;
    } 
</style>
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Test1</title>
</head>
<body>
    <div id='treeview1'></div>
</body>
</html>
<link href="~/Vendor/font-awesome/css/font-awesome.css" rel="stylesheet" />
<script src="~/Scripts/json2-min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
      
                 var selectedNodeId;
            $('#treeview1')
                .on('select_node.jstree', function (e, data) {
                    if (selectedNodeId === data.node.id) {
                        data.instance.deselect_node(data.node);
                        selectedNodeId = "";
                    } else {
                        selectedNodeId = data.node.id;
                    }
                })
                .jstree({
                    "plugins": ["search", "wholerow"],
                    'core': {
                        'data': {
                            'url': function (node) {
                                return node.id === '#' ? "/api/CategoryApi/GetRootNode" : "/api/CategoryApi/GetChildren/" + node.id;
                            },
                            'method': 'POST',
                            'headers':
                            {
                                Authorization: 'Basic ' + btoa('Capital_MM' + ':' + 'CKM12345!')
                            },
                            'data': function (node) {
                                return { 'id': node.id };
                            }
                        }
                    }
                });
        })
</script>
